<!DOCTYPE html>
<html lang="fr" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Review Sym{% endblock %}</title>

    <!-- Tailwind CSS CDN (version complète avec toutes les classes) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Modal pour la suppression -->
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>

    <!-- Icone -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Configuration personnalisée optionnelle -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4f46e5',      // indigo-600
                        primarydark: '#4338ca',  // indigo-700
                    }
                }
            }
        }

        document.addEventListener('DOMContentLoaded', function () {
            const flashMessages = document.querySelectorAll('.flash-message');

            flashMessages.forEach(function (msg) {
                // Disparaît après 3 secondes (3000 ms)
                setTimeout(function () {
                    msg.style.opacity = '0';
                    msg.style.transform = 'translateY(-10px)';
                    // Supprime complètement l'élément après la transition (300ms)
                    setTimeout(function () {
                        msg.remove();
                    }, 300);
                }, 3000);
            });
        });
    </script>

    {% block head %}{% endblock %}
</head>
<body class="min-h-screen bg-gray-50 antialiased">

<main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    {% for label, messages in app.flashes %}
        {% for message in messages %}
            <div class="flash-message relative mb-6 p-4 rounded-lg shadow-md border-l-4 transition-all duration-300
                    {% if label == 'success' %}bg-green-50 text-green-800 border-green-500{% endif %}
                    {% if label == 'error' or label == 'danger' %}bg-red-50 text-red-800 border-red-500{% endif %}
                    {% if label == 'warning' %}bg-yellow-50 text-yellow-800 border-yellow-500{% endif %}
                    {% if label == 'info' or label == 'notice' %}bg-blue-50 text-blue-800 border-blue-500{% endif %}"
                 role="alert">

                {# Croix de fermeture #}
                <button type="button"
                        onclick="this.parentElement.style.opacity='0'; setTimeout(() => this.parentElement.remove(), 300);"
                        class="absolute top-2 right-3 text-gray-500 hover:text-gray-700 transition duration-150">
                    <i class="fa-solid fa-times text-lg"></i>
                </button>

                <span class="font-medium block pr-8">{{ message }}</span>
            </div>
        {% endfor %}
    {% endfor %}
    {% block body %}{% endblock %}
</main>

{% block javascripts %}{% endblock %}
</body>
</html>
